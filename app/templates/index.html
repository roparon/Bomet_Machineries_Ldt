<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BometMachineries — Shop</title>
  <style>
    :root{
      --accent:#2b8a7a;
      --muted:#6b7280;
      --card:#ffffff;
      --bg:#f4f6f8;
      --danger:#ef4444;
      --shadow: 0 6px 18px rgba(22,28,37,0.08);
    }
    *{box-sizing:border-box;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{margin:0;background:var(--bg);color:#0f172a}
    header{background:#ffffff;border-bottom:1px solid #e6eef3;padding:16px 24px;display:flex;align-items:center;gap:20px}
    .brand{font-weight:700;font-size:20px;color:var(--accent)}
    .search{flex:1}
    .search input{width:100%;padding:10px 14px;border-radius:8px;border:1px solid #e6eef3}

    .container{display:flex;gap:20px;padding:18px}
    /* Sidebar */
    .sidebar{width:260px;background:#fff;padding:12px;border-radius:10px;box-shadow:var(--shadow);height:calc(100vh - 120px);position:sticky;top:18px;overflow:auto}
    .sidebar h3{margin:6px 0 12px;font-size:15px;color:#111827}
    .menu{list-style:none;padding:0;margin:0}
    .menu li{border-radius:8px;padding:8px 10px;margin-bottom:6px;position:relative}
    .menu li a{display:flex;justify-content:space-between;align-items:center;text-decoration:none;color:#0f172a}
    .menu li:hover{background:#f3faf8}
    .submenu{display:none;position:relative;list-style:none;padding-left:12px;margin-top:8px}
    .menu li:hover > .submenu{display:block}
    .submenu li{padding:6px;border-radius:6px}
    /* Main content */
    .main{flex:1;display:flex;flex-direction:column;gap:18px}
    .top-row{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .flash{background: linear-gradient(90deg,#fde68a,#fca5a5);padding:12px;border-radius:10px;display:flex;gap:12px;align-items:center}
    .flash .title{font-weight:700}
    .flash .carousel{display:flex;gap:10px;overflow:hidden}
    .flash .card{min-width:220px;background:#fff;padding:8px;border-radius:8px;box-shadow:var(--shadow)}
    /* Products grid */
    .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
    .product{background:var(--card);padding:12px;border-radius:10px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px}
    .product img{width:100%;height:140px;object-fit:cover;border-radius:6px}
    .product h4{margin:0;font-size:16px}
    .price{font-weight:700}
    .muted{color:var(--muted);font-size:13px}
    .btn{display:inline-block;padding:8px 12px;border-radius:8px;text-decoration:none;background:var(--accent);color:#fff;font-weight:600}
    .secondary{background:#f3f4f6;color:#111827}
    .tags{display:flex;gap:6px;flex-wrap:wrap}
    .tag{background:#eef6f4;padding:4px 8px;border-radius:6px;font-size:12px;color:var(--accent)}

    /* Dropdown nav (top) */
    .nav{display:flex;gap:10px}
    .nav .nav-item{position:relative}
    .nav .nav-item:hover .nav-drop{display:block}
    .nav-drop{display:none;position:absolute;top:34px;left:0;background:#fff;padding:10px;border-radius:8px;box-shadow:var(--shadow);min-width:220px}
    .nav-drop a{display:block;padding:6px 8px;border-radius:6px;text-decoration:none;color:#0f172a}
    .nav-drop a:hover{background:#f3faf8}


    .modal{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center}
    .modal .sheet{background:#fff;padding:18px;border-radius:10px;width:720px;max-width:94%;max-height:90vh;overflow:auto}
    .modal.show{display:flex}

    footer{padding:18px;text-align:center;color:var(--muted)}

    @media (max-width:900px){.container{flex-direction:column}.sidebar{width:100%;height:auto;position:relative}.nav{flex-wrap:wrap}}
  </style>
</head>
<body>
  <header>
    <div class="brand">BometMachineries</div>
    <nav class="nav">
      <div class="nav-item"><a href="#">Products</a>
        <div class="nav-drop">
          <a href="#posho">Posho Mills</a>
          <a href="#pumps">Water Pumps</a>
          <a href="#generators">Generators</a>
          <a href="#chaff">Chaff Cutters</a>
        </div>
      </div>
      <div class="nav-item"><a href="#">Brands</a>
        <div class="nav-drop">
          <a href="#">Global Farm</a>
          <a href="#">AgriPower</a>
          <a href="#">KisimaTech</a>
        </div>
      </div>
      <div class="nav-item"><a href="#">Deals</a>
        <div class="nav-drop">
          <a href="#flash">Flash Sales</a>
          <a href="#clearance">Clearance</a>
        </div>
      </div>
    </nav>
    <div class="search">
      <input placeholder="Search posho mills, water pumps, spares..." />
    </div>
    <div style="min-width:120px;text-align:right;">
      <div style="font-size:13px;color:var(--muted)">Cart: <strong>0 items</strong></div>
    </div>
  </header>

  <div class="container">
    <aside class="sidebar">
      <h3>Shop by Category</h3>
      <ul class="menu">
        <li>
          <a href="#posho">Posho Mills <span class="muted">›</span></a>
          <ul class="submenu">
            <li><a href="#">Electric Posho Mills</a></li>
            <li><a href="#">Diesel Posho Mills</a></li>
            <li><a href="#">Portable Mini Mills</a></li>
            <li><a href="#">Posho Mill Spares</a></li>
          </ul>
        </li>
        <li>
          <a href="#pumps">Water Pumps <span class="muted">›</span></a>
          <ul class="submenu">
            <li><a href="#">Diesel Pumps</a></li>
            <li><a href="#">Petrol Pumps</a></li>
            <li><a href="#">Submersible</a></li>
            <li><a href="#">Solar Pumps</a></li>
          </ul>
        </li>
        <li>
          <a href="#generators">Generators <span class="muted">›</span></a>
          <ul class="submenu">
            <li><a href="#">Petrol Generators</a></li>
            <li><a href="#">Diesel Generators</a></li>
            <li><a href="#">Silent Generators</a></li>
          </ul>
        </li>
        <li>
          <a href="#chaff">Chaff Cutters <span class="muted">›</span></a>
          <ul class="submenu">
            <li><a href="#">Electric Chaff Cutters</a></li>
            <li><a href="#">Diesel Chaff Cutters</a></li>
            <li><a href="#">Chaff Cutter Spares</a></li>
          </ul>
        </li>
        <li>
          <a href="#spares">Spares & Accessories</a>
        </li>
      </ul>

      <hr style="margin:12px 0;border:none;border-top:1px dashed #eef2f7" />
      <h3>Filters</h3>
      <label class="muted" style="display:block;margin-bottom:6px">Price</label>
      <input type="range" min="500" max="200000" value="50000" style="width:100%" />
      <div style="margin-top:12px">
        <label class="muted">Sort by</label>
        <select style="width:100%;padding:8px;border-radius:8px;margin-top:6px">
          <option>Popularity</option>
          <option>Price — Low to High</option>
          <option>Price — High to Low</option>
        </select>
      </div>
    </aside>

    <main class="main">
      <section class="top-row">
        <div class="flash" id="flash">
          <div>
            <div class="title">Flash Sales — limited stock!</div>
            <div class="muted">Hot deals for the next 24 hours</div>
          </div>
          <div class="carousel" id="flashCarousel">
          </div>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
          <a class="btn secondary" href="#">Sell with us</a>
          <a class="btn" href="#">Contact Sales</a>
        </div>
      </section>

      <section>
        <h2 style="margin:0 0 12px">All Products</h2>
        <div class="products" id="productsGrid">
          <!-- product cards injected by JS -->
        </div>
      </section>

    </main>
  </div>

  <!-- product detail modal -->
  <div class="modal" id="modal">
    <div class="sheet" role="dialog" aria-modal="true">
      <button id="closeModal" style="float:right;border:none;background:none;font-size:18px">✕</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <footer>
    © <span id="yr"></span> FarmMachineries — Prices indicative. Visit store for stock availability.
  </footer>

  <script>
    // sample product data (you can edit or expand)
    const products = [
      {
        id: 'posho-1',
        category: 'Posho Mill',
        title: 'Electric Posho Mill - 7.5HP (Single Phase)',
        price: 42000,
        currency: 'KES',
        short: 'Compact electric posho mill for small shops and households. 7.5HP motor.',
        img: 'https://images.unsplash.com/photo-1584467735873-5d5e7f2e3c2c?auto=format&fit=crop&w=800&q=60',
        specs: {
          power: '7.5 HP',
          capacity: '40-60 kg/hr',
          warranty: '6 months'
        }
      },
      {
        id: 'posho-2',
        category: 'Posho Mill',
        title: 'Diesel Posho Mill - 10HP Heavy Duty',
        price: 98000,
        currency: 'KES',
        short: 'Heavy-duty diesel posho mill suitable for milling stations and bulk use.',
        img: 'https://images.unsplash.com/photo-1558980664-10f7b0ff3f92?auto=format&fit=crop&w=800&q=60',
        specs: {power: '10 HP', capacity: '120 kg/hr', warranty: '1 year'}
      },
      {
        id: 'pump-1',
        category: 'Water Pump',
        title: 'Diesel Centrifugal Pump 3" (75mm)',
        price: 22500,
        currency: 'KES',
        short: 'Portable diesel pump, ideal for irrigation and borehole transfer.',
        img: 'https://images.unsplash.com/photo-1558981406-1b3eeba9f5b5?auto=format&fit=crop&w=800&q=60',
        specs: {flow: '60 m3/hr', head: '18 m', warranty: '6 months'}
      },
      {
        id: 'pump-2',
        category: 'Water Pump',
        title: 'Solar Submersible Pump 1.5 HP',
        price: 76000,
        currency: 'KES',
        short: 'Solar-driven submersible pump for off-grid water supply.',
        img: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=800&q=60',
        specs: {power: '1.5 HP (solar)', capacity: '10 m3/hr', warranty: '1 year'}
      },
      {
        id: 'gen-1',
        category: 'Generator',
        title: 'Petrol Generator 5kVA (Silent)',
        price: 65000,
        currency: 'KES',
        short: 'Portable silent petrol generator for backup and site power.',
        img: 'https://images.unsplash.com/photo-1605902711622-cfb43c44367e?auto=format&fit=crop&w=800&q=60',
        specs: {power: '5 kVA', fuel: 'Petrol', warranty: '1 year'}
      },
      {
        id: 'gen-2',
        category: 'Generator',
        title: 'Diesel Generator 20kVA - Industrial',
        price: 420000,
        currency: 'KES',
        short: 'Standby diesel generator for farm processing units and large workshops.',
        img: 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=60',
        specs: {power: '20 kVA', fuel: 'Diesel', warranty: '2 years'}
      },
      {
        id: 'chaff-1',
        category: 'Chaff Cutter',
        title: 'Electric Chaff Cutter - 2.5HP',
        price: 28000,
        currency: 'KES',
        short: 'Electric chaff cutter for small to medium farms; easy to operate.',
        img: 'https://images.unsplash.com/photo-1543546104-5ecb1a3f7c49?auto=format&fit=crop&w=800&q=60',
        specs: {power: '2.5 HP', capacity: '200-400 kg/hr', warranty: '6 months'}
      },
      {
        id: 'spare-1',
        category: 'Spares',
        title: 'Posho Mill Hammer Set (6pcs)',
        price: 3200,
        currency: 'KES',
        short: 'Replacement hammer set for common posho mill models.',
        img: 'https://images.unsplash.com/photo-1602524815956-6bea4d8f6f4b?auto=format&fit=crop&w=800&q=60',
        specs: {material: 'Alloy steel', warranty: '3 months'}
      }
    ];

    const flash = [
      {id:'posho-2', discount:12},
      {id:'pump-1', discount:8},
      {id:'gen-1', discount:10}
    ];

    // helper: format currency (KES)
    function formatPrice(n){ return new Intl.NumberFormat('en-KE').format(n) + ' KES' }

    // render flash
    const flashContainer = document.getElementById('flashCarousel');
    flash.forEach(item=>{
      const p = products.find(x=>x.id===item.id);
      if(!p) return;
      const el = document.createElement('div');
      el.className='card';
      el.innerHTML = `
        <img src="${p.img}" style="width:100%;height:110px;object-fit:cover;border-radius:6px;margin-bottom:8px" />
        <div style="font-weight:700">${p.title}</div>
        <div class="muted">Was ${formatPrice(Math.round(p.price/(1-item.discount/100)))} • <strong>${item.discount}% off</strong></div>
        <div style="margin-top:8px;font-weight:700">Now ${formatPrice(Math.round(p.price*(1-item.discount/100)))}</div>
      `;
      flashContainer.appendChild(el);
    });

    // rotate flash carousel a bit (simple)
    let flashIndex = 0;
    setInterval(()=>{
      const w = flashContainer.children[0]?.offsetWidth || 240;
      flashIndex = (flashIndex+1) % Math.max(1, flashContainer.children.length);
      flashContainer.scrollTo({left: flashIndex * (w+10), behavior:'smooth'});
    },4000);

    // render all products
    const grid = document.getElementById('productsGrid');
    products.forEach(p=>{
      const card = document.createElement('article');
      card.className='product';
      card.innerHTML = `
        <img loading="lazy" src="${p.img}" alt="${p.title}" />
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h4>${p.title}</h4>
          <div class="price">${formatPrice(p.price)}</div>
        </div>
        <div class="muted">${p.short}</div>
        <div class="tags">
          <div class="tag">${p.category}</div>
          <div class="tag">Warranty: ${p.specs.warranty || '—'}</div>
        </div>
        <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
          <a href="#" class="btn" data-id="${p.id}" onclick="openDetail(event,'${p.id}')">View</a>
          <a href="#" class="btn secondary" onclick="addToCart(event,'${p.id}')">Add to cart</a>
        </div>
      `;
      grid.appendChild(card);
    });

    // modal logic
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');
    document.getElementById('closeModal').addEventListener('click', ()=>{ modal.classList.remove('show') });
    function openDetail(ev,id){ ev.preventDefault(); const p = products.find(x=>x.id===id); if(!p) return;
      modalContent.innerHTML = `
        <div style="display:flex;gap:14px;flex-wrap:wrap">
          <img src='${p.img}' style='width:320px;height:220px;object-fit:cover;border-radius:8px' />
          <div style='flex:1;min-width:240px'>
            <h2 style='margin-top:0'>${p.title}</h2>
            <div style='font-size:18px;font-weight:700'>${formatPrice(p.price)}</div>
            <div class='muted' style='margin-top:6px'>${p.short}</div>
            <ul style='margin-top:10px'>
              ${Object.entries(p.specs).map(([k,v])=>`<li><strong>${k}:</strong> ${v}</li>`).join('')}
            </ul>
            <div style='margin-top:12px;display:flex;gap:8px'>
              <a href='#' class='btn' onclick="addToCart(event,'${p.id}')">Add to cart</a>
              <a href='#' class='btn secondary'>Request quote</a>
            </div>
          </div>
        </div>
      `;
      modal.classList.add('show');
    }

    function addToCart(ev,id){ ev.preventDefault(); alert('Added to cart: '+id); }

    // footer year
    document.getElementById('yr').innerText = new Date().getFullYear();

    // keyboard escape closes modal
    window.addEventListener('keydown',(e)=>{ if(e.key==='Escape') modal.classList.remove('show') });

  </script>
</body>
</html>
